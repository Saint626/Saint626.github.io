{"title":"关于ssh登录出现异常警告","slug":"关于ssh登录出现异常警告","date":"2021-03-04T12:19:00.000Z","updated":"2021-03-04T12:19:00.000Z","comments":true,"path":"api/articles/关于ssh登录出现异常警告.json","excerpt":null,"covers":null,"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\css\\APlayer.min.css\"><script src=\"\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\js\\Meting.min.js\"></script><h2 id=\"提示警告信息如下：\"><a href=\"#提示警告信息如下：\" class=\"headerlink\" title=\"提示警告信息如下：\"></a>提示警告信息如下：</h2><figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\Users\\<span class=\"number\">65740</span>&gt; ssh <span class=\"number\">10.18</span><span class=\"number\">.46</span><span class=\"number\">.111</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@</span></span><br><span class=\"line\"><span class=\"comment\">@</span> WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! <span class=\"comment\">@</span></span><br><span class=\"line\"><span class=\"comment\">@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span></span><br><span class=\"line\">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span><br><span class=\"line\">Someone could be eavesdropping on you right <span class=\"built_in\">now</span> (man-in-the-middle attack)!</span><br><span class=\"line\">It is also possible that the RSA host <span class=\"built_in\">key</span> has just been changed.</span><br><span class=\"line\">The fingerprint <span class=\"keyword\">for</span> the RSA key sent by the remote host is</span><br><span class=\"line\">08:98:a9:cc:f8:37:20:6b:b4:b1:6c:3a:15:b9:a9:92.</span><br><span class=\"line\">Please contact your system administrator.</span><br><span class=\"line\">Add correct host key in C:\\\\Users\\\\65740\\\\.ssh\\\\known_hosts to get rid of this message.</span><br><span class=\"line\">Offending key in C:\\\\Users\\\\65740\\\\.ssh\\\\known_hosts:2</span><br><span class=\"line\">RSA host key <span class=\"keyword\">for</span> 10.18.46.111 has changed and you have requested strict checking.</span><br><span class=\"line\">Host key verification failed.</span><br></pre></td></tr></table></figure>\n<h2 id=\"原因分析：\"><a href=\"#原因分析：\" class=\"headerlink\" title=\"原因分析：\"></a>原因分析：</h2><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">It <span class=\"keyword\">is</span> also possible <span class=\"keyword\">that</span> a host key has just been changed.</span><br></pre></td></tr></table></figure>\n<p>我之前对ssh服务器重装了系统，导致所有与原系统建立过ssh连接的系统都无法再建立连接，因为在于原系统建立首次连接时，双方相互记录了对方的公钥（ssh基于非对称密钥技术），在ssh服务主机重装系统后，公钥改变了，任以旧版本公钥的主机自然是无法与新系统连接的。</p>\n<h2 id=\"解决方案：\"><a href=\"#解决方案：\" class=\"headerlink\" title=\"解决方案：\"></a>解决方案：</h2><p>删除<code>C:\\\\Users\\\\65740\\\\.ssh\\\\known_hosts</code>文件，或者如果你可以判断出<code>known_hosts</code>中原<code>ssh</code>服务器的公钥，删去那部分，</p>\n<p>然后后再次建立新的连接，即可获得新的公钥。</p>\n","more":"<h2 id=\"提示警告信息如下：\"><a href=\"#提示警告信息如下：\" class=\"headerlink\" title=\"提示警告信息如下：\"></a>提示警告信息如下：</h2><figure class=\"highlight gauss\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">C:\\Users\\<span class=\"number\">65740</span>&gt; ssh <span class=\"number\">10.18</span><span class=\"number\">.46</span><span class=\"number\">.111</span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@</span></span><br><span class=\"line\"><span class=\"comment\">@</span> WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! <span class=\"comment\">@</span></span><br><span class=\"line\"><span class=\"comment\">@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span><span class=\"comment\">@@</span></span><br><span class=\"line\">IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!</span><br><span class=\"line\">Someone could be eavesdropping on you right <span class=\"built_in\">now</span> (man-in-the-middle attack)!</span><br><span class=\"line\">It is also possible that the RSA host <span class=\"built_in\">key</span> has just been changed.</span><br><span class=\"line\">The fingerprint <span class=\"keyword\">for</span> the RSA key sent by the remote host is</span><br><span class=\"line\">08:98:a9:cc:f8:37:20:6b:b4:b1:6c:3a:15:b9:a9:92.</span><br><span class=\"line\">Please contact your system administrator.</span><br><span class=\"line\">Add correct host key in C:\\\\Users\\\\65740\\\\.ssh\\\\known_hosts to get rid of this message.</span><br><span class=\"line\">Offending key in C:\\\\Users\\\\65740\\\\.ssh\\\\known_hosts:2</span><br><span class=\"line\">RSA host key <span class=\"keyword\">for</span> 10.18.46.111 has changed and you have requested strict checking.</span><br><span class=\"line\">Host key verification failed.</span><br></pre></td></tr></table></figure>\n<h2 id=\"原因分析：\"><a href=\"#原因分析：\" class=\"headerlink\" title=\"原因分析：\"></a>原因分析：</h2><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">It <span class=\"keyword\">is</span> also possible <span class=\"keyword\">that</span> a host key has just been changed.</span><br></pre></td></tr></table></figure>\n<p>我之前对ssh服务器重装了系统，导致所有与原系统建立过ssh连接的系统都无法再建立连接，因为在于原系统建立首次连接时，双方相互记录了对方的公钥（ssh基于非对称密钥技术），在ssh服务主机重装系统后，公钥改变了，任以旧版本公钥的主机自然是无法与新系统连接的。</p>\n<h2 id=\"解决方案：\"><a href=\"#解决方案：\" class=\"headerlink\" title=\"解决方案：\"></a>解决方案：</h2><p>删除<code>C:\\\\Users\\\\65740\\\\.ssh\\\\known_hosts</code>文件，或者如果你可以判断出<code>known_hosts</code>中原<code>ssh</code>服务器的公钥，删去那部分，</p>\n<p>然后后再次建立新的连接，即可获得新的公钥。</p>\n","categories":[{"name":"windows","path":"api/categories/windows.json"}],"tags":[{"name":"windows","path":"api/tags/windows.json"},{"name":"ssh","path":"api/tags/ssh.json"}]}