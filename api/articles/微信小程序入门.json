{"title":"微信小程序入门","slug":"微信小程序入门","date":"2020-08-10T08:24:34.000Z","updated":"2020-08-10T09:53:08.635Z","comments":true,"path":"api/articles/微信小程序入门.json","excerpt":null,"covers":["http://picture.saintblog.top/miniprogram/share.png","http://picture.saintblog.top/miniprogram/miniprogram_signup1.png","http://picture.saintblog.top/miniprogram/miniprogram_signup2.png","http://picture.saintblog.top/miniprogram/miniprogram_signup3.png","http://picture.saintblog.top/miniprogram/miniprogram_ide1.png","http://picture.saintblog.top/miniprogram/miniprogram_ide2.png","http://picture.saintblog.top/miniprogram/miniprogram_ide3.png","http://picture.saintblog.top/miniprogram/miniprogram_structure.png"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\css\\APlayer.min.css\"><script src=\"\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\js\\Meting.min.js\"></script><h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>微信小程序是微信生态重要的一环，在实际生活中的应用也十分广泛。想学习微信小程序开发的同学也越来越多。</p>\n<p>我在去年接触的微信小程序开发，前几天空闲的时间把这个hexo个人博客写了一个微信小程序的版本，欢迎扫码查看</p>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/share.png\" alt=\"\"></p>\n<p>想着在开学前整理出一系列微信小程序开发的相关博客</p>\n<h2 id=\"开发前的准备\"><a href=\"#开发前的准备\" class=\"headerlink\" title=\"开发前的准备\"></a>开发前的准备</h2><h3 id=\"申请AppID\"><a href=\"#申请AppID\" class=\"headerlink\" title=\"申请AppID\"></a>申请AppID</h3><p>登录微信公众平台：<a href=\"https://mp.weixin.qq.com/\" target=\"_blank\" rel=\"noopener\">https://mp.weixin.qq.com/</a></p>\n<p>注意：</p>\n<ul>\n<li>一个账号对应一个小程序</li>\n<li>企业、政府、媒体、其他组织主体可以注册50个小程序</li>\n<li>个体户和个人类型可以注册5个小程序</li>\n</ul>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_signup1.png\" alt=\"signup1\"></p>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_signup2.png\" alt=\"signup2\"></p>\n<p>注册成功，查看AppID。AppID是发布小程序必备的东西</p>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_signup3.png\" alt=\"signup3\"></p>\n<h3 id=\"开发工具\"><a href=\"#开发工具\" class=\"headerlink\" title=\"开发工具\"></a>开发工具</h3><p>引用官方的话</p>\n<blockquote>\n<p>为了帮助开发者简单和高效地开发和调试微信小程序，我们在原有的公众号网页调试工具的基础上，推出了全新的 微信开发者工具，集成了公众号网页调试和小程序调试两种开发模式。</p>\n<ul>\n<li>使用公众号网页调试，开发者可以调试微信网页授权和微信JS-SDK 详情</li>\n<li>使用小程序调试，开发者可以完成小程序的 API 和页面的开发调试、代码查看和编辑、小程序预览和发布等功能。</li>\n</ul>\n</blockquote>\n<p>下载地址：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html</a></p>\n<p>扫码登录后，点击这个很大的加号创建项目</p>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_ide1.png\" alt=\"ide1\"></p>\n<p>如果只是练习、熟悉小程序的话可以选择使用测试号，如果是准备开发项目并且会发布的话可以选择用AppID</p>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_ide2.png\" alt=\"ide2\"></p>\n<p>模拟器：</p>\n<ul>\n<li><p>模拟器可以模拟小程序在微信客户端的表现。小程序的代码通过编译后可以在模拟器上直接运行。</p>\n<p>开发者可以选择不同的设备，也可以添加自定义设备来调试小程序在不同尺寸机型上的适配问题。</p>\n</li>\n</ul>\n<p>编辑器：</p>\n<ul>\n<li>来编写小程序相关代码的工具</li>\n</ul>\n<p>调试器：</p>\n<ul>\n<li>查看打印、警告、报错等信息，debug调试代码等功能</li>\n</ul>\n<p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_ide3.png\" alt=\"ide3\"></p>\n<h2 id=\"小程序项目目录结构\"><a href=\"#小程序项目目录结构\" class=\"headerlink\" title=\"小程序项目目录结构\"></a>小程序项目目录结构</h2><p><img src= \"/img/loading.gif\" data-src=\"http://picture.saintblog.top/miniprogram/miniprogram_structure.png\" alt=\"structure\"></p>\n<h3 id=\"文件\"><a href=\"#文件\" class=\"headerlink\" title=\"文件\"></a>文件</h3><p>微信小程序的项目文件主要有四部分：</p>\n<ul>\n<li>js：就是JavaScript</li>\n<li>wxml：类似于html，但是在微信小程序中不能使用html的标签</li>\n<li>wxss：几乎与css一样</li>\n<li>json：全局配置、页面配置或组件的配置文件</li>\n</ul>\n<h3 id=\"app-json\"><a href=\"#app-json\" class=\"headerlink\" title=\"app.json\"></a>app.json</h3><p>上图中的App部分称为小程序的全局配置，先看一下常见的app.json文件内容</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"pages\"</span>:[</span><br><span class=\"line\">    <span class=\"string\">\"pages/index/index\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"pages/logs/logs\"</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">\"window\"</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"backgroundTextStyle\"</span>:<span class=\"string\">\"light\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"navigationBarBackgroundColor\"</span>: <span class=\"string\">\"#fff\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"navigationBarTitleText\"</span>: <span class=\"string\">\"Weixin\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"navigationBarTextStyle\"</span>:<span class=\"string\">\"black\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"tabBar\"</span>:&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"list\"</span>:[&#123;</span><br><span class=\"line\">          <span class=\"attr\">\"pagePath\"</span>:<span class=\"string\">\"pages/index/index\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"text\"</span>:<span class=\"string\">\"首页\"</span></span><br><span class=\"line\">        &#125;,&#123;</span><br><span class=\"line\">          <span class=\"attr\">\"pagePath\"</span>:<span class=\"string\">\"pages/logs/logs\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"text\"</span>:<span class=\"string\">\"日志\"</span></span><br><span class=\"line\">        &#125;]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"networkTimeout\"</span>:&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"request\"</span>:<span class=\"number\">10000</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"downloadFile\"</span>:<span class=\"string\">\"10000\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"style\"</span>: <span class=\"string\">\"v2\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"sitemapLocation\"</span>: <span class=\"string\">\"sitemap.json\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"pages\"><a href=\"#pages\" class=\"headerlink\" title=\"pages\"></a>pages</h4><p>pages是app.json中必须的配置项。pages接收一个数组(Array)的值，用来指定小程序的组成页面，数组内的每一项都是字符串类型的值，对应了页面路径</p>\n<p>在配置pages时需要注意：</p>\n<ul>\n<li>在需要新建页面时，可以直接在pages中定义，微信开发者工具会自动创建对应路径下的<code>.js</code>、<code>.wxml</code>、<code>.json</code>和<code>.wxss</code>文件</li>\n<li>数组的第一项即为小程序启动首页</li>\n<li>小程序新增或减少页面，都要增加或删除对应的数组内的值</li>\n</ul>\n<h4 id=\"window\"><a href=\"#window\" class=\"headerlink\" title=\"window\"></a>window</h4><p>app.json中可选的配置项。用来设置小程序的状态栏、标题、窗口、文字等</p>\n<p>配置详情可查看：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window</a></p>\n<h4 id=\"tabBar\"><a href=\"#tabBar\" class=\"headerlink\" title=\"tabBar\"></a>tabBar</h4><p>app.json中可选的配置项。用来设置小程序多页面切换</p>\n<p>配置详情可查看：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar</a></p>\n<p><strong>因为window和tabBar在实际项目中可以自己相关定义组件，所以直接放官方的文档当作参考</strong></p>\n<h3 id=\"app-js\"><a href=\"#app-js\" class=\"headerlink\" title=\"app.js\"></a>app.js</h3><p>注册小程序。接受一个 <code>Object</code> 参数，其指定小程序的生命周期回调等。</p>\n<p><strong>App() 必须在 <code>app.js</code> 中调用，必须调用且只能调用一次。不然会出现无法预期的后果。</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">App(&#123;</span><br><span class=\"line\">  onLaunch (options) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something initial when launch.</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onShow (options) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something when show.</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onHide () &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something when hide.</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onError (msg) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(msg)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  globalData: <span class=\"string\">'I am global data'</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>app.js中有一个全局数据<code>globalData</code>，可以在需要的页面中调用<code>globalData</code></p>\n<h3 id=\"pages-json\"><a href=\"#pages-json\" class=\"headerlink\" title=\"pages.json\"></a>pages.json</h3><p>每一个小程序页面也可以使用 <code>.json</code> 文件来对本页面的窗口表现进行配置。页面中配置项在当前页面会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。文件内容为一个 JSON 对象，如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"navigationBarBackgroundColor\"</span>: <span class=\"string\">\"#ffffff\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"navigationBarTextStyle\"</span>: <span class=\"string\">\"black\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"navigationBarTitleText\"</span>: <span class=\"string\">\"微信接口功能演示\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"backgroundColor\"</span>: <span class=\"string\">\"#eeeeee\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"backgroundTextStyle\"</span>: <span class=\"string\">\"light\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>页面的配置优先级是高于全局配置的，所以如果全局配置了window，页面也配置了window的相关配置，小程序显示的是页面的配置</strong></p>\n<p>具体配置可以参考官方文档：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html</a></p>\n","more":"<h2 id=\"简介\"><a href=\"#简介\" class=\"headerlink\" title=\"简介\"></a>简介</h2><p>微信小程序是微信生态重要的一环，在实际生活中的应用也十分广泛。想学习微信小程序开发的同学也越来越多。</p>\n<p>我在去年接触的微信小程序开发，前几天空闲的时间把这个hexo个人博客写了一个微信小程序的版本，欢迎扫码查看</p>\n<p><img src=\"http://picture.saintblog.top/miniprogram/share.png\" alt=\"\"></p>\n<p>想着在开学前整理出一系列微信小程序开发的相关博客</p>\n<h2 id=\"开发前的准备\"><a href=\"#开发前的准备\" class=\"headerlink\" title=\"开发前的准备\"></a>开发前的准备</h2><h3 id=\"申请AppID\"><a href=\"#申请AppID\" class=\"headerlink\" title=\"申请AppID\"></a>申请AppID</h3><p>登录微信公众平台：<a href=\"https://mp.weixin.qq.com/\" target=\"_blank\" rel=\"noopener\">https://mp.weixin.qq.com/</a></p>\n<p>注意：</p>\n<ul>\n<li>一个账号对应一个小程序</li>\n<li>企业、政府、媒体、其他组织主体可以注册50个小程序</li>\n<li>个体户和个人类型可以注册5个小程序</li>\n</ul>\n<p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_signup1.png\" alt=\"signup1\"></p>\n<p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_signup2.png\" alt=\"signup2\"></p>\n<p>注册成功，查看AppID。AppID是发布小程序必备的东西</p>\n<p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_signup3.png\" alt=\"signup3\"></p>\n<h3 id=\"开发工具\"><a href=\"#开发工具\" class=\"headerlink\" title=\"开发工具\"></a>开发工具</h3><p>引用官方的话</p>\n<blockquote>\n<p>为了帮助开发者简单和高效地开发和调试微信小程序，我们在原有的公众号网页调试工具的基础上，推出了全新的 微信开发者工具，集成了公众号网页调试和小程序调试两种开发模式。</p>\n<ul>\n<li>使用公众号网页调试，开发者可以调试微信网页授权和微信JS-SDK 详情</li>\n<li>使用小程序调试，开发者可以完成小程序的 API 和页面的开发调试、代码查看和编辑、小程序预览和发布等功能。</li>\n</ul>\n</blockquote>\n<p>下载地址：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html</a></p>\n<p>扫码登录后，点击这个很大的加号创建项目</p>\n<p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_ide1.png\" alt=\"ide1\"></p>\n<p>如果只是练习、熟悉小程序的话可以选择使用测试号，如果是准备开发项目并且会发布的话可以选择用AppID</p>\n<p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_ide2.png\" alt=\"ide2\"></p>\n<p>模拟器：</p>\n<ul>\n<li><p>模拟器可以模拟小程序在微信客户端的表现。小程序的代码通过编译后可以在模拟器上直接运行。</p>\n<p>开发者可以选择不同的设备，也可以添加自定义设备来调试小程序在不同尺寸机型上的适配问题。</p>\n</li>\n</ul>\n<p>编辑器：</p>\n<ul>\n<li>来编写小程序相关代码的工具</li>\n</ul>\n<p>调试器：</p>\n<ul>\n<li>查看打印、警告、报错等信息，debug调试代码等功能</li>\n</ul>\n<p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_ide3.png\" alt=\"ide3\"></p>\n<h2 id=\"小程序项目目录结构\"><a href=\"#小程序项目目录结构\" class=\"headerlink\" title=\"小程序项目目录结构\"></a>小程序项目目录结构</h2><p><img src=\"http://picture.saintblog.top/miniprogram/miniprogram_structure.png\" alt=\"structure\"></p>\n<h3 id=\"文件\"><a href=\"#文件\" class=\"headerlink\" title=\"文件\"></a>文件</h3><p>微信小程序的项目文件主要有四部分：</p>\n<ul>\n<li>js：就是JavaScript</li>\n<li>wxml：类似于html，但是在微信小程序中不能使用html的标签</li>\n<li>wxss：几乎与css一样</li>\n<li>json：全局配置、页面配置或组件的配置文件</li>\n</ul>\n<h3 id=\"app-json\"><a href=\"#app-json\" class=\"headerlink\" title=\"app.json\"></a>app.json</h3><p>上图中的App部分称为小程序的全局配置，先看一下常见的app.json文件内容</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"pages\"</span>:[</span><br><span class=\"line\">    <span class=\"string\">\"pages/index/index\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"pages/logs/logs\"</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\">  <span class=\"attr\">\"window\"</span>:&#123;</span><br><span class=\"line\">    <span class=\"attr\">\"backgroundTextStyle\"</span>:<span class=\"string\">\"light\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"navigationBarBackgroundColor\"</span>: <span class=\"string\">\"#fff\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"navigationBarTitleText\"</span>: <span class=\"string\">\"Weixin\"</span>,</span><br><span class=\"line\">    <span class=\"attr\">\"navigationBarTextStyle\"</span>:<span class=\"string\">\"black\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"tabBar\"</span>:&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"list\"</span>:[&#123;</span><br><span class=\"line\">          <span class=\"attr\">\"pagePath\"</span>:<span class=\"string\">\"pages/index/index\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"text\"</span>:<span class=\"string\">\"首页\"</span></span><br><span class=\"line\">        &#125;,&#123;</span><br><span class=\"line\">          <span class=\"attr\">\"pagePath\"</span>:<span class=\"string\">\"pages/logs/logs\"</span>,</span><br><span class=\"line\">          <span class=\"attr\">\"text\"</span>:<span class=\"string\">\"日志\"</span></span><br><span class=\"line\">        &#125;]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"networkTimeout\"</span>:&#123;</span><br><span class=\"line\">      <span class=\"attr\">\"request\"</span>:<span class=\"number\">10000</span>,</span><br><span class=\"line\">      <span class=\"attr\">\"downloadFile\"</span>:<span class=\"string\">\"10000\"</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">\"style\"</span>: <span class=\"string\">\"v2\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"sitemapLocation\"</span>: <span class=\"string\">\"sitemap.json\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"pages\"><a href=\"#pages\" class=\"headerlink\" title=\"pages\"></a>pages</h4><p>pages是app.json中必须的配置项。pages接收一个数组(Array)的值，用来指定小程序的组成页面，数组内的每一项都是字符串类型的值，对应了页面路径</p>\n<p>在配置pages时需要注意：</p>\n<ul>\n<li>在需要新建页面时，可以直接在pages中定义，微信开发者工具会自动创建对应路径下的<code>.js</code>、<code>.wxml</code>、<code>.json</code>和<code>.wxss</code>文件</li>\n<li>数组的第一项即为小程序启动首页</li>\n<li>小程序新增或减少页面，都要增加或删除对应的数组内的值</li>\n</ul>\n<h4 id=\"window\"><a href=\"#window\" class=\"headerlink\" title=\"window\"></a>window</h4><p>app.json中可选的配置项。用来设置小程序的状态栏、标题、窗口、文字等</p>\n<p>配置详情可查看：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#window</a></p>\n<h4 id=\"tabBar\"><a href=\"#tabBar\" class=\"headerlink\" title=\"tabBar\"></a>tabBar</h4><p>app.json中可选的配置项。用来设置小程序多页面切换</p>\n<p>配置详情可查看：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar</a></p>\n<p><strong>因为window和tabBar在实际项目中可以自己相关定义组件，所以直接放官方的文档当作参考</strong></p>\n<h3 id=\"app-js\"><a href=\"#app-js\" class=\"headerlink\" title=\"app.js\"></a>app.js</h3><p>注册小程序。接受一个 <code>Object</code> 参数，其指定小程序的生命周期回调等。</p>\n<p><strong>App() 必须在 <code>app.js</code> 中调用，必须调用且只能调用一次。不然会出现无法预期的后果。</strong></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">App(&#123;</span><br><span class=\"line\">  onLaunch (options) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something initial when launch.</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onShow (options) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something when show.</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onHide () &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Do something when hide.</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  onError (msg) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(msg)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  globalData: <span class=\"string\">'I am global data'</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>app.js中有一个全局数据<code>globalData</code>，可以在需要的页面中调用<code>globalData</code></p>\n<h3 id=\"pages-json\"><a href=\"#pages-json\" class=\"headerlink\" title=\"pages.json\"></a>pages.json</h3><p>每一个小程序页面也可以使用 <code>.json</code> 文件来对本页面的窗口表现进行配置。页面中配置项在当前页面会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。文件内容为一个 JSON 对象，如：</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">\"navigationBarBackgroundColor\"</span>: <span class=\"string\">\"#ffffff\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"navigationBarTextStyle\"</span>: <span class=\"string\">\"black\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"navigationBarTitleText\"</span>: <span class=\"string\">\"微信接口功能演示\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"backgroundColor\"</span>: <span class=\"string\">\"#eeeeee\"</span>,</span><br><span class=\"line\">  <span class=\"attr\">\"backgroundTextStyle\"</span>: <span class=\"string\">\"light\"</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>页面的配置优先级是高于全局配置的，所以如果全局配置了window，页面也配置了window的相关配置，小程序显示的是页面的配置</strong></p>\n<p>具体配置可以参考官方文档：<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html\" target=\"_blank\" rel=\"noopener\">https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html</a></p>\n","categories":[{"name":"微信小程序","path":"api/categories/微信小程序.json"}],"tags":[{"name":"html","path":"api/tags/html.json"},{"name":"css","path":"api/tags/css.json"},{"name":"JavaScript","path":"api/tags/JavaScript.json"}]}